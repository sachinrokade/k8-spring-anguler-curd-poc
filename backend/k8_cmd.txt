Requerd Tools
	minikube
	kubectl
	DockerHub





D:\Studay\angular-springboot-crud-example-main\backend>minikube version
minikube version: v1.37.0
commit: 65318f4cfff9c12cc87ec9eb8f4cdd57b25047f3

D:\Studay\angular-springboot-crud-example-main\backend>minikube start --driver=docker

* minikube v1.37.0 on Microsoft Windows 11 Home Single Language 10.0.26200.7171 Build 26200.7171
* Using the docker driver based on existing profile
* Starting "minikube" primary control-plane node in "minikube" cluster
* Pulling base image v0.0.48 ...
* Restarting existing docker container for "minikube" ...
! Failing to connect to https://registry.k8s.io/ from inside the minikube container
* To pull new external images, you may need to configure a proxy: https://minikube.sigs.k8s.io/docs/reference/networking/proxy/
* Preparing Kubernetes v1.34.0 on Docker 28.4.0 ...
* Verifying Kubernetes components...
  - Using image gcr.io/k8s-minikube/storage-provisioner:v5
* Enabled addons: storage-provisioner, default-storageclass
* Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default

D:\Studay\angular-springboot-crud-example-main\backend>minikube status
minikube
type: Control Plane
host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured


D:\Studay\angular-springboot-crud-example-main\backend>kubectl cluster-info
Kubernetes control plane is running at https://127.0.0.1:53404
CoreDNS is running at https://127.0.0.1:53404/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy

To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.

D:\Studay\angular-springboot-crud-example-main\backend>kubectl get node
NAME       STATUS   ROLES           AGE   VERSION
minikube   Ready    control-plane   62m   v1.34.0


D:\Studay\angular-springboot-crud-example-main\backend>minikube docker-env
SET DOCKER_TLS_VERIFY=1
SET DOCKER_HOST=tcp://127.0.0.1:53405
SET DOCKER_CERT_PATH=C:\Users\mrsac\.minikube\certs
SET MINIKUBE_ACTIVE_DOCKERD=minikube
REM To point your shell to minikube's docker-daemon, run:
REM @FOR /f "tokens=*" %i IN ('minikube -p minikube docker-env --shell cmd') DO @%i

D:\Studay\angular-springboot-crud-example-main\backend>REM @FOR /f "tokens=*" %i IN ('minikube -p minikube docker-env --shell cmd') DO @%i

D:\Studay\angular-springboot-crud-example-main\backend>docker images
                                                                                                                                                      i Info →   U  In Use
IMAGE                                 ID             DISK USAGE   CONTENT SIZE   EXTRA
gcr.io/k8s-minikube/kicbase:v0.0.48   c6b5532e987b       1.31GB             0B    U

D:\Studay\angular-springboot-crud-example-main\backend>docker build -t backend:01 .
[+] Building 10.5s (8/8) FINISHED                                                                                                                    docker:desktop-linux
 => [internal] load build definition from Dockerfile                                                                                                                 0.4s
 => => transferring dockerfile: 181B                                                                                                                                 0.3s
 => [internal] load metadata for docker.io/library/eclipse-temurin:17-jdk                                                                                            5.4s
 => [auth] library/eclipse-temurin:pull token for registry-1.docker.io                                                                                               0.0s
 => [internal] load .dockerignore                                                                                                                                    0.0s
 => => transferring context: 2B                                                                                                                                      0.0s
 => [internal] load build context                                                                                                                                    4.0s
 => => transferring context: 46.31MB                                                                                                                                 3.9s
 => CACHED [1/2] FROM docker.io/library/eclipse-temurin:17-jdk@sha256:7995efb7f9276fc16433aa8e2856a06082cd09f7f6603579db2534937ccc6778                               0.0s
 => => resolve docker.io/library/eclipse-temurin:17-jdk@sha256:7995efb7f9276fc16433aa8e2856a06082cd09f7f6603579db2534937ccc6778                                      0.0s
 => [2/2] COPY target/*.jar app.jar                                                                                                                                  0.2s
 => exporting to image                                                                                                                                               0.3s
 => => exporting layers                                                                                                                                              0.3s
 => => writing image sha256:602fc835a888ab8a8db01873475045ec5d7551f479a90de097406a8c2b0d568e                                                                         0.0s
 => => naming to docker.io/library/backend:01                                                                                                                        0.0s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/h460fl571gc8b6x0srkl4mzu6

What's next:
    View a summary of image vulnerabilities and recommendations → docker scout quickview

D:\Studay\angular-springboot-crud-example-main\backend>docker images
                                                                                                                                                      i Info →   U  In Use
IMAGE                                 ID             DISK USAGE   CONTENT SIZE   EXTRA
backend:01                            602fc835a888        466MB             0B
gcr.io/k8s-minikube/kicbase:v0.0.48   c6b5532e987b       1.31GB             0B    U


D:\Studay\angular-springboot-crud-example-main\backend>minikube docker-env
SET DOCKER_TLS_VERIFY=1
SET DOCKER_HOST=tcp://127.0.0.1:53405
SET DOCKER_CERT_PATH=C:\Users\mrsac\.minikube\certs
SET MINIKUBE_ACTIVE_DOCKERD=minikube
REM To point your shell to minikube's docker-daemon, run:
REM @FOR /f "tokens=*" %i IN ('minikube -p minikube docker-env --shell cmd') DO @%i

D:\Studay\angular-springboot-crud-example-main\backend>docker build -t backend:01 .
[+] Building 4.8s (8/8) FINISHED                                                                                                                     docker:desktop-linux
 => [internal] load build definition from Dockerfile                                                                                                                 0.0s
 => => transferring dockerfile: 181B                                                                                                                                 0.0s
 => [internal] load metadata for docker.io/library/eclipse-temurin:17-jdk                                                                                            4.3s
 => [auth] library/eclipse-temurin:pull token for registry-1.docker.io                                                                                               0.0s
 => [internal] load .dockerignore                                                                                                                                    0.0s
 => => transferring context: 2B                                                                                                                                      0.0s
 => [internal] load build context                                                                                                                                    0.3s
 => => transferring context: 83B                                                                                                                                     0.3s
 => [1/2] FROM docker.io/library/eclipse-temurin:17-jdk@sha256:7995efb7f9276fc16433aa8e2856a06082cd09f7f6603579db2534937ccc6778                                      0.0s
 => => resolve docker.io/library/eclipse-temurin:17-jdk@sha256:7995efb7f9276fc16433aa8e2856a06082cd09f7f6603579db2534937ccc6778                                      0.0s
 => CACHED [2/2] COPY target/*.jar app.jar                                                                                                                           0.0s
 => exporting to image                                                                                                                                               0.0s
 => => exporting layers                                                                                                                                              0.0s
 => => writing image sha256:602fc835a888ab8a8db01873475045ec5d7551f479a90de097406a8c2b0d568e                                                                         0.0s
 => => naming to docker.io/library/backend:01                                                                                                                        0.0s

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/ww1kf9oxodjjrmvzkp1wqppor

What's next:
    View a summary of image vulnerabilities and recommendations → docker scout quickview

D:\Studay\angular-springboot-crud-example-main\backend>minikube image load backend:01

D:\Studay\angular-springboot-crud-example-main\backend>kubectl create deployment backend-deployment --image=backend:01 --port=8080
deployment.apps/backend-deployment created

D:\Studay\angular-springboot-crud-example-main\backend>kubectl get deployment
NAME                 READY   UP-TO-DATE   AVAILABLE   AGE
backend-deployment   1/1     1            1           9s

D:\Studay\angular-springboot-crud-example-main\backend>kubectl get pod
NAME                                 READY   STATUS             RESTARTS   AGE
backend-deployment-5cff586dd-4bt46   1/1     Running            0          19s


D:\Studay\angular-springboot-crud-example-main\backend>kubectl get deployments
NAME                 READY   UP-TO-DATE   AVAILABLE   AGE
backend-deployment   1/1     1            1           2m27s

D:\Studay\angular-springboot-crud-example-main\backend>kubectl expose deployment backend-deployment --type=NodePort
service/backend-deployment exposed

D:\Studay\angular-springboot-crud-example-main\backend>kubectl get service
NAME                 TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)          AGE
backend-deployment   NodePort    10.109.157.147   <none>        8080:31516/TCP   25s
kubernetes           ClusterIP   10.96.0.1        <none>        443/TCP          77m


D:\Studay\angular-springboot-crud-example-main\backend>minikube service backend-deployment --url
http://127.0.0.1:50764
! Because you are using a Docker driver on windows, the terminal needs to be open to run it.

D:\Studay\angular-springboot-crud-example-main\backend>backend-deployment
'backend-deployment' is not recognized as an internal or external command,
operable program or batch file.

D:\Studay\angular-springboot-crud-example-main\backend>

D:\Studay\angular-springboot-crud-example-main\backend>minikube dashboard
* Enabling dashboard ...
  - Using image docker.io/kubernetesui/dashboard:v2.7.0
  - Using image docker.io/kubernetesui/metrics-scraper:v1.0.8
* Some dashboard features require the metrics-server addon. To enable all features please run:

        minikube addons enable metrics-server

* Verifying dashboard health ...
* Launching proxy ...
* Verifying proxy health ...
* Opening http://127.0.0.1:61017/api/v1/namespaces/kubernetes-dashboard/services/http:kubernetes-dashboard:/proxy/ in your default browser...
^C
D:\Studay\angular-springboot-crud-example-main\backend>
D:\Studay\angular-springboot-crud-example-main\backend>c
D:\Studay\angular-springboot-crud-example-main\backend>minikube service backend-deployment --url
http://127.0.0.1:50205
! Because you are using a Docker driver on windows, the terminal needs to be open to run it.



-------------------------------------------------------------------MYSQL----------------------------------------------------------------------------

//need to create db-deployment.yml file

D:\Studay\angular-springboot-crud-example-main\backend>  kubectl apply -f .\db-deployment.yaml
persistentvolumeclaim/mysql-pv-claim unchanged
deployment.apps/mysql unchanged
service/mysql unchanged

PS D:\Studay\angular-springboot-crud-example-main\backend> kubectl get pod
NAME                                    READY   STATUS    RESTARTS      AGE
backend-deployment-5cff586dd-66ckj      1/1     Running   1 (12d ago)   14d
mysql-5bdfd74f8d-nnd7p                  1/1     Running   0             6m52s

PS D:\Studay\angular-springboot-crud-example-main\backend> kubectl exec -it mysql-5bdfd74f8d-nnd7p -- mysql -u root -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 2
Server version: 5.7.44 MySQL Community Server (GPL)

Copyright (c) 2000, 2023, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases
    -> show databases;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'show databases' at line 2
mysql> SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| information_schema |
| empdb              |
| mysql              |
| performance_schema |
| sys                |
+--------------------+
5 rows in set (0.03 sec)

mysql> exit
      -----------------------------------------------DashBoarad
	  mysql -u root -p
		Step 1: Open dashboard
		minikube dashboard

		Step 2:

		Go to Workloads → Pods

		Click mysql pod

		Click Exec

		Select:

		Container: mysql

		Shell: /bin/sh

		Step 3: Run MySQL command inside terminal
		mysql -u root -p
